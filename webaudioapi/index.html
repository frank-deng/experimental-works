<!DOCTYPE html>
<html>
    <head>
        <meta name='viewport' id='viewport' content='width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no'/>
        <meta charset='utf-8'/>
        <title>试试WebAudioAPI</title>
        <style>
template{display:none;}
#logger_element{
	display:block;
	position:fixed;
	left:0;
	right:0;
	bottom:0;
	height:6em;
	font-size:1em;
	line-height:1.1em;
	font-family:monospace;
	font-weight:normal;
	color:#000;
	background-color:#ccc;
	border-top:1px solid #000;
	margin:0;
	padding:0;
}
        </style>
        <script type='text/javascript' src='mobile_logger.js'></script>
        <script type='text/javascript'>
window.addEventListener('load', function(){
	MobileLogger.bind(document.getElementById('logger_element'));
});
        </script>
        <script type='text/javascript' src='vue.js'></script>
        <script type='text/javascript' src='vue-router.js'></script>
    </head>
    <body>
        <div id='main'>
			<button id='btn_beep'>Beep</button>
        </div>
        <pre id='logger_element'></pre>
    </body>
    <script type='text/javascript'>
var audioCtx = new AudioContext();
var oscillator = undefined;

var btn_beep = document.getElementById('btn_beep');
btn_beep.addEventListener('click', function(){
	if (oscillator){
		oscillator.stop();
		oscillator = undefined;
	} else {
		oscillator = audioCtx.createOscillator();
		oscillator.type = 'sine';
		oscillator.frequency.setValueAtTime(1000, audioCtx.currentTime);
		oscillator.connect(audioCtx.destination);
		oscillator.start();
	}
});
    </script>
</html>
