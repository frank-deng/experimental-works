webpackJsonp([1],{"4A/p":function(t,e,a){t.exports=a.p+"static/img/car-in-top-view-512x512.f89abb7.png"},FF3r:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={data:function(){return{x:0,y:0,rotation:0,speed:1,steer:0,captureDistance:40}},computed:{carStyle:function(){return{left:this.x+"px",top:this.y+"px",transform:"rotate("+this.rotation+"deg)"}},cameraStyle:function(){this.x,this.captureDistance,Math.sin(Math.PI/180*this.rotation),this.y,this.captureDistance,Math.cos(Math.PI/180*this.rotation);return{marginTop:-this.captureDistance+"px"}}},methods:{place:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.x=t,this.y=e,this.rotation=a},setSpeed:function(t){this.speed=t},setSteer:function(t){this.steer=t},nextMove:function(){this.rotation+=this.steer,this.x+=this.speed*Math.sin(Math.PI/180*this.rotation),this.y-=this.speed*Math.cos(Math.PI/180*this.rotation)},lookGround:function(t,e){var a=this.x+this.captureDistance*Math.sin(Math.PI/180*this.rotation),r=this.y-this.captureDistance*Math.cos(Math.PI/180*this.rotation),i=e.width,n=e.height,s=e.getContext("2d");s.clearRect(0,0,i,n),s.save(),s.translate(i/2,n/2),s.rotate(-Math.PI/180*this.rotation),s.drawImage(t,a-i/2,r-n/2,i,n,-i/2,-n/2,i,n),s.restore()}},mounted:function(){}},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"car",style:this.carStyle},[e("img",{attrs:{src:a("4A/p")}})])},staticRenderFns:[]};var n=a("VU/8")(r,i,!1,function(t){a("HutR")},"data-v-44b6be75",null);e.default=n.exports},HutR:function(t,e){},Kjsf:function(t,e){},SK4Q:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={props:{width:Number,height:Number},data:function(){return{drawing:!1,ctx:void 0,x0:void 0,y0:void 0}},watch:{drawing:function(t){t||(this.x0=this.y0=void 0)}},methods:{clear:function(){var t=this.$refs.drawPad;this.ctx.clearRect(0,0,t.width,t.height),this.drawing=!1},getCanvas:function(){return this.$refs.drawPad}},mounted:function(){var t=this,e=this.$refs.drawPad;this.ctx=e.getContext("2d");var a=function(e,a){if(t.ctx&&t.drawing){if(void 0!==t.x0&&void 0!==t.y0){var r=t.ctx;r.beginPath(),r.moveTo(t.x0,t.y0),r.lineTo(e,a),r.stroke()}t.x0=e,t.y0=a}};e.addEventListener("mousedown",function(e){t.drawing=!0}),e.addEventListener("mouseup",function(e){t.drawing=!1}),e.addEventListener("mousemove",function(t){a(t.offsetX,t.offsetY)}),e.addEventListener("touchstart",function(e){t.drawing=!0}),e.addEventListener("touchend",function(e){0==e.touches.length&&(t.drawing=!1)}),e.addEventListener("touchmove",function(t){var r=e.getBoundingClientRect(),i=t.touches[0].clientX-r.left,n=t.touches[0].clientY-r.top;a(i,n)})}},i={render:function(){var t=this.$createElement;return(this._self._c||t)("canvas",{ref:"drawPad",staticClass:"drawPad",attrs:{width:this.width,height:this.height}})},staticRenderFns:[]};var n=a("VU/8")(r,i,!1,function(t){a("Kjsf")},"data-v-d4db6b56",null);e.default=n.exports},deQL:function(t,e){},i6yL:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={components:{drawPad:a("SK4Q").default,car:a("FF3r").default},methods:{clearDrawPad:function(){this.$refs.drawPad.clear()}},mounted:function(){var t=this;this.$refs.car.place(200,100,0),this.$refs.car.setSpeed(1),this.$refs.car.setSteer(-1);var e=this.$refs.groundCameraCrop.getContext("2d");setInterval(function(){t.$refs.car.nextMove(),t.$refs.car.lookGround(t.$refs.drawPad.getCanvas(),t.$refs.groundCamera),e.clearRect(0,0,100,100),e.drawImage(t.$refs.groundCamera,-16,-16)},100)}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"drawPadContainer"},[a("drawPad",{ref:"drawPad",attrs:{width:320,height:320}}),t._v(" "),a("car",{ref:"car"})],1),t._v(" "),a("div",{staticClass:"toolBox"},[a("el-button",{attrs:{size:"tiny"},on:{click:t.clearDrawPad}},[t._v("Clear")])],1),t._v(" "),a("div",{staticClass:"miscBox"},[a("p",[t._v("地面相机："),a("canvas",{ref:"groundCamera",attrs:{width:"64",height:"64"}})]),t._v(" "),a("p",[t._v("地面相机（截取过的）："),a("canvas",{ref:"groundCameraCrop",attrs:{width:"32",height:"32"}})])])])},staticRenderFns:[]};var n=a("VU/8")(r,i,!1,function(t){a("deQL")},"data-v-3a9c0d7c",null);e.default=n.exports}});