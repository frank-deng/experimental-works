(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dithering"],{1898:function(t,i,e){(function(){function i(t){if(t=t||{},this.method=t.method||2,this.colors=t.colors||256,this.initColors=t.initColors||4096,this.initDist=t.initDist||.01,this.distIncr=t.distIncr||.005,this.hueGroups=t.hueGroups||10,this.satGroups=t.satGroups||10,this.lumGroups=t.lumGroups||10,this.minHueCols=t.minHueCols||0,this.hueStats=this.minHueCols?new e(this.hueGroups,this.minHueCols):null,this.boxSize=t.boxSize||[64,64],this.boxPxls=t.boxPxls||2,this.palLocked=!1,this.dithKern=t.dithKern||null,this.dithSerp=t.dithSerp||!1,this.dithDelta=t.dithDelta||0,this.histogram={},this.idxrgb=t.palette?t.palette.slice(0):[],this.idxi32=[],this.i32idx={},this.i32rgb={},this.useCache=!1!==t.useCache,this.cacheFreq=t.cacheFreq||10,this.reIndex=t.reIndex||0==this.idxrgb.length,this.colorDist="manhattan"==t.colorDist?f:c,this.idxrgb.length>0){var i=this;this.idxrgb.forEach(function(t,e){var r=(255<<24|t[2]<<16|t[1]<<8|t[0])>>>0;i.idxi32[e]=r,i.i32idx[r]=e,i.i32rgb[r]=t})}}function e(t,i){this.numGroups=t,this.minCols=i,this.stats={};for(var e=-1;e<t;e++)this.stats[e]={num:0,cols:[]};this.groupsFull=0}i.prototype.sample=function(t,i){if(this.palLocked)throw"Cannot sample additional images, palette already assembled.";var e=C(t,i);switch(this.method){case 1:this.colorStats1D(e.buf32);break;case 2:this.colorStats2D(e.buf32,e.width);break}},i.prototype.reduce=function(t,i,e,r){if(this.palLocked||this.buildPal(),e=e||this.dithKern,r="undefined"!=typeof r?r:this.dithSerp,i=i||1,e)var a=this.dither(t,e,r);else for(var n=C(t),s=n.buf32,o=s.length,l=(a=new Uint32Array(o),0);l<o;l++){var h=s[l];a[l]=this.nearestColor(h)}if(1==i)return new Uint8Array(a.buffer);if(2==i){var u=[];for(o=a.length,l=0;l<o;l++){h=a[l];u[l]=this.i32idx[h]}return u}},i.prototype.dither=function(t,i,e){var r={FloydSteinberg:[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]],FalseFloydSteinberg:[[3/8,1,0],[3/8,0,1],[.25,1,1]],Stucki:[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]],Atkinson:[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]],Jarvis:[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]],Burkes:[[.25,1,0],[.125,2,0],[2/32,-2,1],[.125,-1,1],[.25,0,1],[.125,1,1],[2/32,2,1]],Sierra:[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[.125,-1,1],[5/32,0,1],[.125,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]],TwoSierra:[[.25,1,0],[3/16,2,0],[1/16,-2,1],[.125,-1,1],[3/16,0,1],[.125,1,1],[1/16,2,1]],SierraLite:[[.5,1,0],[.25,-1,1],[.25,0,1]]};if(!i||!r[i])throw"Unknown dithering kernel: "+i;for(var a=r[i],n=C(t),s=n.buf32,o=n.width,l=n.height,h=(s.length,e?-1:1),u=0;u<l;u++){e&&(h*=-1);for(var c=u*o,d=1==h?0:o-1,f=1==h?o:0;d!==f;d+=h){var p=c+d,m=s[p],g=255&m,v=(65280&m)>>8,x=(16711680&m)>>16,b=this.nearestColor(m),w=255&b,y=(65280&b)>>8,k=(16711680&b)>>16;if(s[p]=255<<24|k<<16|y<<8|w,this.dithDelta){var P=this.colorDist([g,v,x],[w,y,k]);if(P<this.dithDelta)continue}for(var S=g-w,I=v-y,F=x-k,M=1==h?0:a.length-1,D=1==h?a.length:0;M!==D;M+=h){var A=a[M][1]*h,L=a[M][2],$=L*o;if(A+d>=0&&A+d<o&&L+u>=0&&L+u<l){var _=a[M][0],H=p+($+A),U=255&s[H],E=(65280&s[H])>>8,j=(16711680&s[H])>>16,G=Math.max(0,Math.min(255,U+S*_)),R=Math.max(0,Math.min(255,E+I*_)),q=Math.max(0,Math.min(255,j+F*_));s[H]=255<<24|q<<16|R<<8|G}}}}return s},i.prototype.buildPal=function(t){if(!(this.palLocked||this.idxrgb.length>0&&this.idxrgb.length<=this.colors)){var i=this.histogram,e=S(i,!0);if(0==e.length)throw"Nothing has been sampled, palette cannot be built.";switch(this.method){case 1:var r=this.initColors,a=e[r-1],n=i[a],s=e.slice(0,r),o=r,l=e.length;while(o<l&&i[e[o]]==n)s.push(e[o++]);this.hueStats&&this.hueStats.inject(s);break;case 2:s=e;break}s=s.map(function(t){return+t}),this.reducePal(s),!t&&this.reIndex&&this.sortPal(),this.useCache&&this.cacheHistogram(s),this.palLocked=!0}},i.prototype.palette=function(t,i){return this.buildPal(i),t?this.idxrgb:new Uint8Array(new Uint32Array(this.idxi32).buffer)},i.prototype.prunePal=function(t){for(var i,e=0;e<this.idxrgb.length;e++)t[e]||(i=this.idxi32[e],this.idxrgb[e]=null,this.idxi32[e]=null,delete this.i32idx[i]);if(this.reIndex){for(var r=[],a=[],n={},s=(e=0,0);e<this.idxrgb.length;e++)this.idxrgb[e]&&(i=this.idxi32[e],r[s]=this.idxrgb[e],n[i]=s,a[s]=i,s++);this.idxrgb=r,this.idxi32=a,this.i32idx=n}},i.prototype.reducePal=function(t){if(this.idxrgb.length>this.colors){for(var i,e=t.length,r={},a=0,n=!1,s=0;s<e;s++)a!=this.colors||n||(this.prunePal(r),n=!0),i=this.nearestIndex(t[s]),a<this.colors&&!r[i]&&(r[i]=!0,a++);n||(this.prunePal(r),n=!0)}else{var o=t.map(function(t){return[255&t,(65280&t)>>8,(16711680&t)>>16]}),l=(e=o.length,e),h=this.initDist;if(l>this.colors){while(l>this.colors){var u=[];for(s=0;s<e;s++){var c=o[s];t[s];if(c)for(var d=s+1;d<e;d++){var f=o[d],p=t[d];if(f){var m=this.colorDist(c,f);m<h&&(u.push([d,f,p,m]),delete o[d],l--)}}}h+=l>3*this.colors?this.initDist:this.distIncr}if(l<this.colors){b.call(u,function(t,i){return i[3]-t[3]});var g=0;while(l<this.colors)o[u[g][0]]=u[g][1],l++,g++}}for(e=o.length,s=0;s<e;s++)o[s]&&(this.idxrgb.push(o[s]),this.idxi32.push(t[s]),this.i32idx[t[s]]=this.idxi32.length-1,this.i32rgb[t[s]]=o[s])}},i.prototype.colorStats1D=function(t){for(var i,e=this.histogram,r=t.length,a=0;a<r;a++)i=t[a],(4278190080&i)>>24!=0&&(this.hueStats&&this.hueStats.check(i),i in e?e[i]++:e[i]=1)},i.prototype.colorStats2D=function(t,i){var e=this.boxSize[0],r=this.boxSize[1],a=e*r,n=k(i,t.length/i,e,r),s=this.histogram,o=this;n.forEach(function(e){var r,n=Math.max(Math.round(e.w*e.h/a)*o.boxPxls,2),l={};P(e,i,function(i){r=t[i],(4278190080&r)>>24!=0&&(o.hueStats&&o.hueStats.check(r),r in s?s[r]++:r in l?++l[r]>=n&&(s[r]=l[r]):l[r]=1)})}),this.hueStats&&this.hueStats.inject(s)},i.prototype.sortPal=function(){var t=this;this.idxi32.sort(function(i,e){var r=t.i32idx[i],a=t.i32idx[e],n=t.idxrgb[r],s=t.idxrgb[a],o=p(n[0],n[1],n[2]),l=p(s[0],s[1],s[2]),h=n[0]==n[1]&&n[1]==n[2]?-1:m(o.h,t.hueGroups),u=s[0]==s[1]&&s[1]==s[2]?-1:m(l.h,t.hueGroups),c=u-h;if(c)return-c;var d=v(+l.l.toFixed(2))-v(+o.l.toFixed(2));if(d)return-d;var f=g(+l.s.toFixed(2))-g(+o.s.toFixed(2));return f?-f:void 0}),this.idxi32.forEach(function(i,e){t.idxrgb[e]=t.i32rgb[i],t.i32idx[i]=e})},i.prototype.nearestColor=function(t){var i=this.nearestIndex(t);return null===i?0:this.idxi32[i]},i.prototype.nearestIndex=function(t){if((4278190080&t)>>24==0)return null;if(this.useCache&&""+t in this.i32idx)return this.i32idx[t];for(var i,e=1e3,r=[255&t,(65280&t)>>8,(16711680&t)>>16],a=this.idxrgb.length,n=0;n<a;n++)if(this.idxrgb[n]){var s=this.colorDist(r,this.idxrgb[n]);s<e&&(e=s,i=n)}return i},i.prototype.cacheHistogram=function(t){for(var i=0,e=t[i];i<t.length&&this.histogram[e]>=this.cacheFreq;e=t[i++])this.i32idx[e]=this.nearestIndex(e)},e.prototype.check=function(t){this.groupsFull==this.numGroups+1&&(this.check=function(){});var i=255&t,e=(65280&t)>>8,r=(16711680&t)>>16,a=i==e&&e==r?-1:m(p(i,e,r).h,this.numGroups),n=this.stats[a],s=this.minCols;n.num++,n.num>s||(n.num==s&&this.groupsFull++,n.num<=s&&this.stats[a].cols.push(t))},e.prototype.inject=function(t){for(var i=-1;i<this.numGroups;i++)if(this.stats[i].num<=this.minCols)switch(x(t)){case"Array":this.stats[i].cols.forEach(function(i){-1==t.indexOf(i)&&t.push(i)});break;case"Object":this.stats[i].cols.forEach(function(i){t[i]?t[i]++:t[i]=1});break}};var r=.2126,a=.7152,n=.0722;function s(t,i,e){return Math.sqrt(r*t*t+a*i*i+n*e*e)}var o=255,l=255,h=255,u=Math.sqrt(r*o*o+a*l*l+n*h*h);function c(t,i){var e=i[0]-t[0],s=i[1]-t[1],o=i[2]-t[2];return Math.sqrt(r*e*e+a*s*s+n*o*o)/u}var d=r*o+a*l+n*h;function f(t,i){var e=Math.abs(i[0]-t[0]),s=Math.abs(i[1]-t[1]),o=Math.abs(i[2]-t[2]);return(r*e+a*s+n*o)/d}function p(t,i,e){var r,a,n,o,l,h;if(t/=255,i/=255,e/=255,r=Math.max(t,i,e),a=Math.min(t,i,e),l=(r+a)/2,r==a)n=o=0;else{switch(h=r-a,o=l>.5?h/(2-r-a):h/(r+a),r){case t:n=(i-e)/h+(i<e?6:0);break;case i:n=(e-t)/h+2;break;case e:n=(t-i)/h+4;break}n/=6}return{h:n,s:o,l:s(t,i,e)}}function m(t,i){var e=1/i,r=e/2;if(t>=1-r||t<=r)return 0;for(var a=1;a<i;a++){var n=a*e;if(t>=n-r&&t<=n+r)return a}}function g(t){return t}function v(t){return t}function x(t){return Object.prototype.toString.call(t).slice(8,-1)}var b=y()?Array.prototype.sort:w;function w(t){var i=x(this[0]);if("Number"==i||"String"==i){for(var e,r={},a=this.length,n=0;n<a;n++)e=this[n],r[e]||0===r[e]||(r[e]=n);return this.sort(function(i,e){return t(i,e)||r[i]-r[e]})}r=this.map(function(t){return t});return this.sort(function(i,e){return t(i,e)||r.indexOf(i)-r.indexOf(e)})}function y(){var t="abcdefghijklmnopqrstuvwxyz";return"xyzvwtursopqmnklhijfgdeabc"==t.split("").sort(function(i,e){return~~(t.indexOf(e)/2.3)-~~(t.indexOf(i)/2.3)}).join("")}function C(t,i){var e,r,a,n,s,o;switch(x(t)){case"HTMLImageElement":e=document.createElement("canvas"),e.width=t.naturalWidth,e.height=t.naturalHeight,r=e.getContext("2d"),r.drawImage(t,0,0);case"Canvas":case"HTMLCanvasElement":e=e||t,r=r||e.getContext("2d");case"CanvasRenderingContext2D":r=r||t,e=e||r.canvas,a=r.getImageData(0,0,e.width,e.height);case"ImageData":a=a||t,i=a.width,n="CanvasPixelArray"==x(a.data)?new Uint8Array(a.data):a.data;case"Array":case"CanvasPixelArray":n=n||new Uint8Array(t);case"Uint8Array":case"Uint8ClampedArray":n=n||t,s=new Uint32Array(n.buffer);case"Uint32Array":s=s||t,n=n||new Uint8Array(s.buffer),i=i||s.length,o=s.length/i}return{can:e,ctx:r,imgd:a,buf8:n,buf32:s,width:i,height:o}}function k(t,i,e,r){for(var a=t%e,n=i%r,s=t-a,o=i-n,l=[],h=0;h<i;h+=r)for(var u=0;u<t;u+=e)l.push({x:u,y:h,w:u==s?a:e,h:h==o?n:r});return l}function P(t,i,e){var r=t,a=r.y*i+r.x,n=(r.y+r.h-1)*i+(r.x+r.w-1),s=0,o=i-r.w+1,l=a;do{e.call(this,l),l+=++s%r.w==0?o:1}while(l<=n)}function S(t,i){var e=[];for(var r in t)e.push(r);return b.call(e,function(e,r){return i?t[r]-t[e]:t[e]-t[r]})}this.RgbQuant=i,t.exports&&(t.exports=i)}).call(this)},"29d3":function(t,i,e){"use strict";var r=e("aba5"),a=e.n(r);a.a},3864:function(t,i,e){"use strict";var r=e("7c9e"),a=e.n(r);a.a},"7c9e":function(t,i,e){},"82e7":function(t,i,e){"use strict";e.r(i);var r=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[t.editing?t._e():e("el-button",{on:{click:t.startEditing}},[t._v("编辑初始颜色")]),t.editing?e("div",{staticClass:"editorContainer"},[t._l(t.colors,function(i,r){return e("el-color-picker",{key:r,staticClass:"colorItem",on:{change:function(i){return t.checkColor(r,i)}},model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"color.value"}})}),e("div",{staticClass:"toolBox"},[e("el-button-group",[e("el-button",{staticClass:"textButton",attrs:{type:"text",icon:"el-icon-plus"},on:{click:t.addColor}}),e("el-button",{staticClass:"textButton",attrs:{type:"text",icon:"el-icon-refresh"},on:{click:t.resetColors}}),e("el-button",{staticClass:"textButton",attrs:{type:"text",icon:"el-icon-download"},on:{click:t.downloadPalette}})],1),e("el-upload",{staticClass:"paletteUpload",attrs:{action:"",multiple:!1,limit:1,"show-file-list":!1,"auto-upload":!0,"before-upload":t.handlePaletteUpload}},[e("el-button",{staticClass:"textButton",attrs:{type:"text",icon:"el-icon-upload2"},on:{click:t.resetColors}})],1)],1)],2):t._e()],1)},a=[],n=e("fd23"),s=n["a"],o=(e("29d3"),e("2877")),l=Object(o["a"])(s,r,a,!1,null,"19ed29a0",null);i["default"]=l.exports},aba5:function(t,i,e){},b800:function(t,i,e){},c779:function(t,i,e){"use strict";e.r(i);var r=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"KMeansMainFrame"},[t.displayResult?t._e():e("el-form",{ref:"formPreparation",staticClass:"formPreparation",attrs:{model:t.formPreparation,rules:t.formPreparation._validation,disabled:t.loading,size:"small","label-width":"110px"}},[e("el-form-item",{attrs:{label:"选择文件",prop:"fileList"}},[e("el-upload",{staticClass:"fileUpload",attrs:{action:"","list-type":"picture",multiple:!1,limit:1,"show-file-list":!0,"auto-upload":!1,"on-change":t.updateFileList,"on-remove":t.updateFileList,"on-exceed":t.noMoreFiles}},[e("el-button",[t._v("打开图片文件")])],1)],1),e("el-form-item",{staticClass:"imageSizeInput",attrs:{label:"图片最大宽度",prop:"maxWidth"}},[e("el-input",{model:{value:t.formPreparation.maxWidth,callback:function(i){t.$set(t.formPreparation,"maxWidth",t._n(i))},expression:"formPreparation.maxWidth"}})],1),e("el-form-item",{staticClass:"imageSizeInput",attrs:{label:"图片最大高度",prop:"maxHeight"}},[e("el-input",{model:{value:t.formPreparation.maxHeight,callback:function(i){t.$set(t.formPreparation,"maxHeight",t._n(i))},expression:"formPreparation.maxHeight"}})],1),e("el-form-item",{attrs:{label:"颜色数",prop:"colorCount"}},[e("el-input-number",{attrs:{min:2},model:{value:t.formPreparation.colorCount,callback:function(i){t.$set(t.formPreparation,"colorCount",t._n(i))},expression:"formPreparation.colorCount"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary",disabled:t.loading,icon:t.loading?"el-icon-loading":null},on:{click:t.doProcessFile}},[t._v("\n        "+t._s(t.loading?"图片处理中":"开始处理图片")+"\n      ")])],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.displayResult,expression:"displayResult"}]},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.onSaveFile}},[t._v("下载图片")]),e("el-button",{attrs:{size:"small"},on:{click:t.goBack}},[t._v("返回")]),e("div",{ref:"imageArea",staticClass:"imageArea"},[e("canvas",{ref:"canvasImage",staticClass:"canvasImage",attrs:{width:"16",height:"16"}})])],1)],1)},a=[],n=e("768b"),s=e("9285"),o=e("791e"),l=e("1898"),h=e.n(l);function u(t,i,e,r){if(e<=t&&r<=i)return{width:e,height:r};var a=0,s=0,l=Object(o["b"])(t,i,e,r),h=Object(n["a"])(l,2);return a=h[0],s=h[1],{width:a,height:s}}var c={components:{colorManager:e("82e7").default},data:function(){return{formPreparation:{maxWidth:640,maxHeight:640,dither:!1,fileList:[],colorCount:16,_validation:{fileList:{required:!0,validator:function(t,i,e){0!=i.length?e():e(new Error("请选择文件"))}},maxWidth:[{required:!0,message:"请填写图片最大宽度"},{type:"number",message:"请输入数字类型的值"}],maxHeight:[{required:!0,message:"请填写图片最大宽度"},{type:"number",message:"请输入数字类型的值"}],colorCount:[{required:!0,message:"请填写颜色数"}]}},loading:!1,reader:void 0,displayResult:!1}},watch:{"formPreparation.fileList":function(){this.$refs.formPreparation.clearValidate("fileList")},"formPreparation.colors":function(){this.$refs.formPreparation.clearValidate("colors")}},methods:{updateFileList:function(t,i){this.formPreparation.fileList=i},doProcessFile:function(){var t=this;this.$refs.formPreparation.validate(function(i){i&&(t.loading=!0,t.reader.readAsDataURL(t.formPreparation.fileList[0].raw))})},noMoreFiles:function(){this.$alert("一次只能打开一个文件。",{type:"error"})},onSaveFile:function(t){var i="IMG_"+s["a"].format(new Date,"YYYYMMDD_HHMMSS.png");saveAs(this.$refs.canvasImage.toDataURL("image/png"),i)},goBack:function(){this.displayResult=!1,this.resetForm()},resetForm:function(){this.formPreparation.filelist=[]}},mounted:function(){var t=this,i=function(){if(t.displayResult){var i=t.$refs.canvasImage,e=t.$refs.imageArea,r=u(e.offsetWidth-2,e.offsetHeight-2,i.width,i.height);i.style.width="".concat(r.width,"px"),i.style.height="".concat(r.height,"px")}};window.addEventListener("resize",i);var e=new FileReader;this.reader=e;var r=new Image;e.addEventListener("load",function(t){r.src=t.target.result});var a=this;r.addEventListener("load",function(t){var e=u(a.formPreparation.maxWidth,a.formPreparation.maxHeight,this.width,this.height);a.$refs.canvasImage.width=e.width,a.$refs.canvasImage.height=e.height;var n=a.$refs.canvasImage.getContext("2d");n.drawImage(r,0,0,this.width,this.height,0,0,e.width,e.height);var s=a.$refs.canvasImage.width,o=a.$refs.canvasImage.height,l=n.getImageData(0,0,s,o),c=new h.a({colors:a.formPreparation.colorCount});c.sample(l),console.log(c.palette());var d=c.reduce(l,1,"FloydSteinberg",!0);console.log(d);for(var f=0;f<d.length;f++)l.data[f]=d[f];n.putImageData(l,0,0),a.displayResult=!0,a.$nextTick(function(){i(),a.loading=!1})}),r.addEventListener("error",function(){a.loading=!1,a.resetForm(),a.$alert("图片加载失败","错误",{type:"error",center:!0,roundButton:!0,showClose:!1,customClass:"dialogFailed"})})}},d=c,f=(e("f60d"),e("3864"),e("2877")),p=Object(f["a"])(d,r,a,!1,null,"fbb38446",null);i["default"]=p.exports},f60d:function(t,i,e){"use strict";var r=e("b800"),a=e.n(r);a.a},fd23:function(t,i,e){"use strict";(function(t){e("28a5"),e("ac4d"),e("8a81"),e("ac6a"),e("6b54");var r=e("21a6"),a=function(t,i,e){var r=t<=15?"0"+t.toString(16):t.toString(16),a=i<=15?"0"+i.toString(16):i.toString(16),n=e<=15?"0"+e.toString(16):e.toString(16);return"#".concat(r).concat(a).concat(n)};i["a"]={props:{value:{default:function(){return[]}}},data:function(){return{editing:!1,colors:[]}},watch:{value:function(t){if(Array.isArray(t)&&t.length){this.colors=[];var i=!0,e=!1,r=void 0;try{for(var n,s=t[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var o=n.value;this.colors.push({value:a(o[0],o[1],o[2])})}}catch(l){e=!0,r=l}finally{try{i||null==s.return||s.return()}finally{if(e)throw r}}}}},methods:{startEditing:function(){this.editing=!0},deleteColor:function(t){this.colors.splice(t,1),this.update()},addColor:function(){this.colors.push({value:"#000000"}),this.update()},checkColor:function(t,i){i?this.update():this.deleteColor(t)},resetColors:function(){this.colors=[];for(var t=0;t<27;t++){var i=[0,127,255],e=i[Math.floor(t/9)%3],r=i[Math.floor(t/3)%3],n=i[t%3];this.colors.push({value:a(e,r,n)})}this.update()},downloadPalette:function(){var t=this.colors.map(function(t){return t.value}).join("\n");Object(r["saveAs"])(new Blob([t],{type:"text/plain;charset=utf-8"}),"palette.pal")},handlePaletteUpload:function(i){var e=this,r=new FileReader;return r.addEventListener("load",function(i){var r=String.fromCharCode.apply(null,t.from(i.target.result.split(",")[1],"base64"));e.colors=[];var a=!0,n=!1,s=void 0;try{for(var o,l=r.split("\n")[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var h=o.value;if(!/^\#[0-9A-Fa-f]{6}$/.test(h))return;e.colors.push({value:h})}}catch(u){n=!0,s=u}finally{try{a||null==l.return||l.return()}finally{if(n)throw s}}}),r.readAsDataURL(i),!1},update:function(){this.$emit("input",this.colors.map(function(t){return[parseInt(t.value.slice(1,3),16),parseInt(t.value.slice(3,5),16),parseInt(t.value.slice(5,7),16)]}))}},mounted:function(){this.resetColors()}}}).call(this,e("b639").Buffer)}}]);