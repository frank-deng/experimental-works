(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dtmf"],{"303d":function(t,i,n){},"886b":function(t,i,n){"use strict";n.r(i);var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"mainFrame"},[n("el-row",[n("el-col",{attrs:{span:24}},[n("p",{staticClass:"itemTitle"},[t._v("DTMF音量")]),n("el-slider",{attrs:{min:0,max:1,step:.001,"show-tooltip":!1},model:{value:t.volume,callback:function(i){t.volume=i},expression:"volume"}})],1),n("el-col",{attrs:{span:24}},[n("p",{staticClass:"itemTitle"},[t._v("按键声音量")]),n("el-slider",{attrs:{min:0,max:1,step:.001,"show-tooltip":!1},model:{value:t.volumeKeyPress,callback:function(i){t.volumeKeyPress=i},expression:"volumeKeyPress"}})],1)],1),n("div",{staticClass:"dialPad",on:{touchend:function(i){return t.dial()},mouseup:function(i){return t.dial()}}},[n("div",{staticClass:"dialBtn",on:{mousedown:function(i){return t.dial("7")},touchstart:function(i){return t.dial("7")}}},[n("i",[t._v("7")])]),n("div",{staticClass:"dialBtn",on:{mousedown:function(i){return t.dial("8")},touchstart:function(i){return t.dial("8")}}},[n("i",[t._v("8")])]),n("div",{staticClass:"dialBtn",on:{mousedown:function(i){return t.dial("9")},touchstart:function(i){return t.dial("9")}}},[n("i",[t._v("9")])]),n("div",{staticClass:"dialBtn",on:{mousedown:function(i){return t.dial("4")},touchstart:function(i){return t.dial("4")}}},[n("i",[t._v("4")])]),n("div",{staticClass:"dialBtn",on:{mousedown:function(i){return t.dial("5")},touchstart:function(i){return t.dial("5")}}},[n("i",[t._v("5")])]),n("div",{staticClass:"dialBtn",on:{mousedown:function(i){return t.dial("6")},touchstart:function(i){return t.dial("6")}}},[n("i",[t._v("6")])]),n("div",{staticClass:"dialBtn",on:{mousedown:function(i){return t.dial("1")},touchstart:function(i){return t.dial("1")}}},[n("i",[t._v("1")])]),n("div",{staticClass:"dialBtn",on:{mousedown:function(i){return t.dial("2")},touchstart:function(i){return t.dial("2")}}},[n("i",[t._v("2")])]),n("div",{staticClass:"dialBtn",on:{mousedown:function(i){return t.dial("3")},touchstart:function(i){return t.dial("3")}}},[n("i",[t._v("3")])]),n("div",{staticClass:"dialBtn",on:{mousedown:function(i){return t.dial("*")},touchstart:function(i){return t.dial("*")}}},[n("i",[t._v("*")])]),n("div",{staticClass:"dialBtn",on:{mousedown:function(i){return t.dial("0")},touchstart:function(i){return t.dial("0")}}},[n("i",[t._v("0")])]),n("div",{staticClass:"dialBtn",on:{mousedown:function(i){return t.dial("#")},touchstart:function(i){return t.dial("#")}}},[n("i",[t._v("#")])])])],1)},s=[],a={"*":[941,1209],0:[941,1336],"#":[941,1477],1:[697,1209],2:[697,1336],3:[697,1477],4:[770,1209],5:[770,1336],6:[770,1477],7:[852,1209],8:[852,1336],9:[852,1477]},o={data:function(){return{dialNum:void 0,volume:.5,volumeKeyPress:.5,audioCtx:void 0,freq0:void 0,freq1:void 0,gainMaster:void 0,soundEffect:{keyPress:void 0,keyPressGain:void 0}}},watch:{dialNum:function(t){if(t){var i=a[t];this.freq0.frequency.setValueAtTime(i[0],this.audioCtx.currentTime),this.freq1.frequency.setValueAtTime(i[1],this.audioCtx.currentTime),this.gainMaster.connect(this.audioCtx.destination);var n=this.audioCtx.createBufferSource();n.buffer=this.soundEffect.keyPress,n.connect(this.soundEffect.keyPressGain),n.start()}else this.gainMaster.disconnect()},volume:function(t){this.gainMaster.gain.setValueAtTime(t/2,this.audioCtx.currentTime)},volumeKeyPress:function(t){this.soundEffect.keyPressGain.gain.setValueAtTime(t,this.audioCtx.currentTime)}},methods:{changeVolume:function(t){this.running},dial:function(t){this.dialNum=t}},mounted:function(){var t=this;this.audioCtx=new AudioContext({sampleRate:8e3}),this.gainMaster=this.audioCtx.createGain(),this.gainMaster.gain.setValueAtTime(this.volume/2,this.audioCtx.currentTime);var i=this.audioCtx.createChannelMerger(2);i.connect(this.gainMaster),this.freq0=this.audioCtx.createOscillator(),this.freq0.type="sine",this.freq0.connect(i),this.freq0.start(),this.freq1=this.audioCtx.createOscillator(),this.freq1.type="sine",this.freq1.connect(i),this.freq1.start(),this.soundEffect.keyPressGain=this.audioCtx.createGain(),this.soundEffect.keyPressGain.connect(this.audioCtx.destination),this.soundEffect.keyPressGain.gain.setValueAtTime(this.volumeKeyPress,this.audioCtx.currentTime),this.axios.get(n("bebb"),{responseType:"arraybuffer"}).then((function(i){return new Promise((function(n){t.audioCtx.decodeAudioData(i.data,(function(t){n(t)}))}))})).then((function(i){t.soundEffect.keyPress=i}));var e=this,s={0:function(){e.dial("0")},1:function(){e.dial("1")},2:function(){e.dial("2")},3:function(){e.dial("3")},4:function(){e.dial("4")},5:function(){e.dial("5")},6:function(){e.dial("6")},7:function(){e.dial("7")},8:function(){e.dial("8")},9:function(){e.dial("9")},"*":function(){e.dial("*")},"-":function(){e.dial("#")},"#":function(){e.dial("#")}};window.addEventListener("keydown",(function(t){s[t.key]&&s[t.key]()})),window.addEventListener("keyup",(function(i){t.dial()}))}},u=o,r=(n("d383"),n("2877")),d=Object(r["a"])(u,e,s,!1,null,"bfc51796",null);i["default"]=d.exports},bebb:function(t,i,n){t.exports=n.p+"assets/media/keypress.fb27e59f.ogg"},d383:function(t,i,n){"use strict";var e=n("303d"),s=n.n(e);s.a}}]);